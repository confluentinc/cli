Create a role with these permissions, add the identity as a member of your key, and grant your role to the member:

Permissions:
  - cloudkms.cryptoKeyVersions.useToDecrypt
  - cloudkms.cryptoKeyVersions.useToEncrypt
  - cloudkms.cryptoKeys.get

Identity:
  id-xyz


Please confirm you've authorized the key for this identity: id-xyz (y/n): It may take up to 1 hour for the Kafka cluster to be ready. The organization admin will receive an email once the dedicated cluster is provisioned.
+-------------------+---------------------------+
| ID                | lkc-def963                |
| Name              | gcp-byok-test             |
| Type              | DEDICATED                 |
| Ingress           |                        50 |
| Egress            |                       150 |
| Storage           | Infinite                  |
| Provider          | gcp                       |
| Availability      | single-zone               |
| Region            | asia-southeast1           |
| Status            | PROVISIONING              |
| Endpoint          | SASL_SSL://kafka-endpoint |
| API Endpoint      | http://kafka-api-url      |
| REST Endpoint     | https://pkc-endpoint      |
| Cluster Size      |                         1 |
| Encryption Key ID | xyz                       |
+-------------------+---------------------------+
